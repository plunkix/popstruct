# ============================================
# FREE TIER ENVIRONMENT CONFIGURATION
# ============================================
# Use this for Render + Vercel + Neon + Upstash free deployment

# ============================================
# DATABASE (Neon PostgreSQL - Free Tier)
# ============================================
# Get from: https://neon.tech
# Format: postgresql://user:pass@ep-xxx.region.aws.neon.tech/dbname
DATABASE_URL=postgresql://your-user:your-pass@ep-xxx.us-east-2.aws.neon.tech/neondb

# ============================================
# REDIS (Upstash Redis - Free Tier)
# ============================================
# Get from: https://upstash.com
# Format: redis://default:pass@endpoint.upstash.io:6379
REDIS_URL=redis://default:your-pass@your-endpoint.upstash.io:6379
CELERY_BROKER_URL=redis://default:your-pass@your-endpoint.upstash.io:6379
CELERY_RESULT_BACKEND=redis://default:your-pass@your-endpoint.upstash.io:6379

# ============================================
# SECURITY
# ============================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE-THIS-TO-A-RANDOM-32-CHARACTER-STRING
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CORS (Update after deploying frontend)
# ============================================
# Add your Vercel URL here after deployment
ALLOWED_ORIGINS=https://your-app.vercel.app,http://localhost:3000

# ============================================
# FILE STORAGE (Ephemeral on Render Free)
# ============================================
# WARNING: Files deleted on restart! Use Supabase/R2 for persistence
UPLOAD_DIR=/tmp/uploads
RESULTS_DIR=/tmp/results
MAX_FILE_SIZE_MB=50

# ============================================
# STRIPE (Optional - Add when ready)
# ============================================
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_BASIC_PRICE_ID=

# ============================================
# USAGE LIMITS (Free Tier)
# ============================================
FREE_MAX_FILE_SIZE_MB=50
FREE_MAX_JOBS_PER_DAY=10
FREE_MAX_STORAGE_GB=1

PREMIUM_MAX_FILE_SIZE_MB=100
PREMIUM_MAX_JOBS_PER_DAY=50
PREMIUM_MAX_STORAGE_GB=10

# ============================================
# EMAIL (Optional)
# ============================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@popstruct.app

# ============================================
# ENVIRONMENT
# ============================================
ENVIRONMENT=production

# ============================================
# FRONTEND (Vercel Environment)
# ============================================
# Set these in Vercel dashboard, not here
# NEXT_PUBLIC_API_URL=https://popstruct-backend.onrender.com
